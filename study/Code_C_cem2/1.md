# Лабораторная работа №1

[[_TOC_]]

## Часть 1

**Цель работы:** Знакомство с инструментарием, который используется для создания, отладки и сопровождения программ, написанных на языке программирования Си. Получение и закрепление умения компилировать и компоновать программу в командной строке, а также создавать проекты, настраивать сборки проектов и отлаживать программы в среде *Qt Creator*.

**Установка ПО.** Установлен Msys 2, пакеты msys2-devel, mingw-w64-x86_64-toolchain, mingw-w64-x86_64-clang, mingw-w64-x86_64-qt-creator, git, man, make. Проблем при установке не возникло.

### Задание 1

Дан фрагмент программы:

```c
include studio.h
main{}
(
  int s;
  s: = 56;
  print (Year has s weeks)
)
```

Далее по одной представлены ошибки, которые выводятся программой в виде: сообщение компилятора, интерпретация этого сообщения, исправление ошибки:
* **Ошибка 1.**
  ```
  main.c:1:1: error: unknown type name 'include'
    1 | include studio.h
      | ^~~~~~~
  ```
  Компилятор не распознает директиву include, так как перед словом не стоит знак #

  Исправление: добавить решетку перед словом include

  С помощью **git diff** показаны изменения в коде
  ```
  -include studio.h
  +#include studio.h^M
  ```

* **Ошибка 2.**
  ```
  main.c:1:10: error: #include expects "FILENAME" or <FILENAME>
    1 | #include studio.h
      |          ^~~~~~

  ```
  Директиве #include должно передаваться имя подключаемого файла между знаками "меньше"-"больше" или в кавычках.

  Исправление: заключить studio.h в знаки "меньше" и "больше"

  Изменения в коде:
  ```
  -#include studio.h
  +#include <studio.h>^M
  ```

* **Ошибка 3.**
  ```
  main.c:1:10: fatal error: studio.h: No such file or directory
    1 | #include <studio.h>
      |          ^~~~~~~~~~
  ```
  Подключаемый файл studio.h не найден.

  Исправление: исправить название заголовочного файла на stdio.h

  Изменения в коде:
  ```
  -#include <studio.h>
  +#include <stdio.h>^M
  ```

* **Ошибка 4.**
  ```
  main.c:2:5: error: expected '=', ',', ';', 'asm' or '__attribute__' before '{' token
    2 | main{}
      |     ^
  ```
  Фигурная скобка открывается сразу после названия функции main

  Исправление: добавить круглые скобки со словом **void** после названия main

  Изменения в коде:
  ```
  -main{}
  +main(void){}^M
  ```

* **Ошибка 5.**
  ```
  main.c:2:1: error: return type defaults to 'int' [-Werror=implicit-int]
    2 | main(void){}
      | ^~~~
  ```
  Не указан тип возвращаемого значения функции main

  Исправление: добавить тип int перед словом main

  Изменения в коде:
  ```
  -main(void){}
  +int main(void){}^M
  ```

* **Ошибка 6.**
  ```
  main.c:4:5: error: expected identifier or '(' before 'int'
    4 |     int s;
      |     ^~~
  ```
  Вероятно, ошибка связана с тем, что тело функции main заключено в круглые скобки, а фигурные скобки закрыты сразу же после того, как открылись.

  Исправление: Заменить круглые скобки, ограничивающие тело функции main, на фигурные, а лишние убрать

  Изменения в коде:
  ```
  -int main(void){}
  -(
  +int main(void)^M
  +{^M
     int s;

     s: = 56;
     print (Year has s weeks)
  -)
  \ No newline at end of file
  +}
  \ No newline at end of file
  ```

* **Ошибка 7.**
  ```
  main.c:6:8: error: expected expression before '=' token
    6 |     s: = 56;
      |        ^

  ```
  Перед оператором присваивания должна быть переменная, а в программе перед знаком равенства стоит двоеточие

  Исправление: убрать двоеточие

  Изменения в коде:
  ```
  -    s: = 56;
  +    s = 56;^M
  ```

* **Ошибка 8.**
  ```
  main.c:7:5: error: implicit declaration of function 'print'; did you mean 'printf'? [-Werror=implicit-function-declaration]
    7 |     print (Year has s weeks)
      |     ^~~~~

  ```
  Вызвана неизвестная функция print. Компилятор дает подсказку, что, возможно, мы хотели использовать printf

  Исправление: вместо функции print написать printf

  Изменения в коде:
  ```
  -    print (Year has s weeks)
  +    printf (Year has s weeks)^M
  ```

* **Ошибка 9.**
  ```
  main.c:7:13: error: 'Year' undeclared (first use in this function)
    7 |     printf (Year has s weeks)
      |             ^~~~
  ```
  Компилятор принимает слово Year за переменную, но она нигде не объявлена.

  Исправление: так как нам требуется вывести строку, заключаем все предложение в кавычки

  Изменения в коде:
  ```
  -    printf (Year has s weeks)
  +    printf ("Year has s weeks")^M
  ```

* **Ошибка 10.**
  ```
  main.c:7:32: error: expected ';' before '}' token
    7 |     printf ("Year has s weeks")
      |                                ^
      |                                ;
    8 | }
      | ~
  ```
  Нет точки с запятой перед фигурной скобкой.

  Исправление: добавить точку с запятой

  Изменения в коде:
  ```
  -    printf ("Year has s weeks")
  +    printf ("Year has s weeks");^M
  ```


* **Ошибка 11.**
  ```
  main.c:4:9: error: variable 's' set but not used [-Werror=unused-but-set-variable]
    4 |     int s;
      |         ^

  ```
  Не используется переменная s

  Сейчас программа вывела бы "Year has s weeks". Чтобы вывод был тот, который требуется (т.е. чтобы вместо s выводилось значение), необходимо отредактировать строку форматирования.

  Изменения в коде:
  ```
  -    printf ("Year has s weeks");
  +    printf ("Year has %d weeks", s);^M
  ```

Больше компилятор ошибок и предупреждений не выводит, однако стоит добавить оператор return, а также изменить значение переменной s на 52, чтобы программа выводила достоверную информацию.

Итоговая версия программы:
```c
#include <stdio.h>
#include <stdlib.h>

int main(void)
{
    int s;

    s = 52;
    printf("Year has %d weeks", s);
    return EXIT_SUCCESS;
}
```

### Задание 2. Вариант 1
Даны основания равнобедренной трапеции и угол при большем основании. Найти площадь
трапеции

Отдельных функций не выделялось, анализ покрытия не проводился.

Компиляция программы прошла успешно.

### Задание 3. Вариант 1
Смешано v1 литров воды температуры t1 с v2 литрами воды температуры t2. Найти объем
и температуры образовавшейся смеси

Отдельных функций не выделялось, анализ покрытия не проводился.

Компиляция программы прошла успешно.

### Задание 4. Вариант 1
Определите номер подъезда и этажа по номеру квартиры девятиэтажного дома, считая, что
на каждом этаже ровно 4 квартиры, а нумерация квартир начинается с первого подъезда.

Отдельных функций не выделялось, анализ покрытия не проводился.

Компиляция программы прошла успешно.

## Часть 2
**Цель:** знакомство с операторами языка Си, получение и закрепление умения декомпозировать задачи на подзадачи, осуществлять реализацию подзадач как "чистых" функций, обрабатывать ошибочных ситуаций, подготавливать тестовые данные и оценивать их полноту.

### Задание 5. Вариант 4
Составить программу, печатающее разложение на простые множители заданного
натурального числа n > 0. Если n равно 1, печатать ничего не надо

**Описание функций:**

`long next_div(long last_div, long num)` - возвращает соедующий делитель числа `num`

Компиляция программы прошла успешно.

**Результаты анализа покрытия тестами:** 100.00%.

### Задание 6. Вариант 4
Определить принадлежит ли точка отрезку.

**Описание функций:**

`double oriented_area(double x1, double y1, double x2, double y2)` - считает ориентированную плошадь

`double dot_product(double x1, double y1, double x2, double y2)` - счиатет векторное произведение.

`double vector_len(double x1, double y1, double x2, double y2)` - подсчитывает длину вектора

Компиляция программы прошла успешно.

**Результаты анализа покрытия тестами:** 100.00%.

### Задание 7. Вариант 4
Вычислить с точностью eps:

* приближенное значение функции s(x);
* точное значение функции f(x);
* абсолютную f(x) - s(x) и относительную |f(x) / (f(x) - s(x))| ошибки приближенного значения.
s(x) - разложение в ряд функции f(x) = 1/sqrt(1 - x^2)

**Описание функций:**

`double f(double x)` - значение функции `f(x)`

`double s(double x, double eps)` - значение функции `s(x)`

Компиляция программы прошла успешно.

**Результаты анализа покрытия тестами:** 100.00%.